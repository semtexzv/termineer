{% match user %}
    {% when Some with (user_info) %}
        <!-- Logged in state -->
        <div class="flex items-center space-x-4">
            <span class="text-gray-700 font-medium">{{ user_info.email }}</span>
            <div class="bg-indigo-100 text-indigo-700 px-3 py-1 rounded-full text-sm font-medium">
                {% match user_info.subscription %}
                    {% when Some with (sub) %}
                        {{ sub }}
                    {% when None %}
                        Free
                {% endmatch %}
            </div>
            <a href="/auth/logout" class="text-gray-500 hover:text-indigo-600 transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M3 3a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V9.5a.5.5 0 01.5-.5H17a.5.5 0 01.5.5V16a2 2 0 01-2 2H3a2 2 0 01-2-2V4a2 2 0 012-2h9.5a.5.5 0 01.5.5V3a.5.5 0 01-.5.5H3zm9.95 4.364l-3.536 3.536a.5.5 0 010 .707l3.536 3.536a.5.5 0 01-.708.708L8.464 12.07a1.5 1.5 0 010-2.12l3.778-3.779a.5.5 0 01.708.708z" clip-rule="evenodd" />
                </svg>
            </a>
        </div>
    {% when None %}
        <!-- Login button -->
        <a href="/auth/google/login" 
           class="inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg shadow-sm hover:bg-indigo-700 transition-colors">
            <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12C24 18.6274 18.6274 24 12 24Z" fill="#F1F1F1"/>
                <path d="M12 9.70312V14.2969L16.5 16.5937V14.2969L12 12V9.70312Z" fill="#4285F4"/>
                <path d="M12 9.70312L7.5 12V14.2969L12 12V9.70312Z" fill="#34A853"/>
                <path d="M7.5 14.2969V16.5937L12 14.2969V12L7.5 14.2969Z" fill="#FBBC05"/>
                <path d="M12 12L16.5 14.2969V12L12 9.70312V12Z" fill="#EA4335"/>
            </svg>
            Sign in
        </a>
{% endmatch %}